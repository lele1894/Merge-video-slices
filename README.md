# 一键视频混剪工具

一个简单的视频混剪工具，可以自动检测视频中的场景变化，将视频分割成多个片段，并随机重组生成新的视频。

## 功能特点

- 自动检测视频场景变化
- 可调节场景检测灵敏度(5-95)
- 保留原始音频
- 随机重组视频片段
- 智能缓存检测结果
- 跳帧加速检测
- 简单易用的图形界面
- 支持保留临时文件
- 显示详细的视频信息和处理日志

## 系统要求

- Python 3.6+
- FFmpeg（需要安装并添加到系统环境变量）

## 安装说明

1. 安装 FFmpeg
   - Windows 用户：
     1. 访问 https://ffmpeg.org/download.html 下载 FFmpeg
     2. 解压后将 bin 目录添加到系统环境变量 Path 中
   - Linux 用户：
     ```bash
     sudo apt-get install ffmpeg  # Ubuntu/Debian
     sudo yum install ffmpeg      # CentOS/RHEL
     ```
   - macOS 用户：
     ```bash
     brew install ffmpeg
     ```

2. 安装 Python 依赖
   ```bash
   pip install -r requirements.txt
   ```

## 使用方法

1. 运行程序：
   ```bash
   python "One-click video mixing and cutting.py"
   ```

2. 在程序界面中：
   - 点击"选择视频"按钮选择要处理的MP4视频文件
   - 调整场景检测阈值（5-95）：
     - 值越小，检测越敏感，分割的片段越多
     - 值越大，检测越不敏感，分割的片段越少
   - 选择是否保留临时文件
   - 点击"开始处理"按钮

3. 处理完成后，将在原视频所在目录生成处理后的视频文件（文件名后缀为"_s"）

## 技术特性

- 智能场景检测：使用ContentDetector算法检测场景变化
- 缓存机制：
  - 使用视频MD5和阈值作为缓存键
  - 缓存有效期30天
  - 自动清理过期缓存
- 性能优化：
  - 跳帧检测加快处理速度
  - 多线程处理防止界面卡死
  - 直接复制视频流不重新编码
- 音频处理：
  - 提取并保留原始音频
  - 支持音频流复制
- 详细日志：
  - 显示处理进度和耗时统计
  - 显示视频基本信息（码率、帧率、分辨率等）

## 注意事项

- 仅支持MP4格式视频
- 建议先用小视频测试不同的检测阈值
- 确保磁盘有足够的空间存储临时文件
- 处理大视频时可能需要较长时间

## 许可证

MIT License
```


以上由"Cursor"生成